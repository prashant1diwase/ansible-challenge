---
# AWS playbook
plugin: aws_ec2
regions:
  - us-east-1
  - us-east-2
keyed_groups:
  # add hosts to tag_Name_value groups for each aws_ec2 host's tags.Name variable
  - key: tags.Name
    prefix: tag_Name_
    separator: ""
  - key: tags.html
    prefix: tag_html_
    separator: ""
groups:
  # add hosts to the group development if any of the dictionary's keys or values is the word 'devel'
  ec2: true # conditional groups
  platform_undefined: platform is not defined
compose:
  # set the ansible_host variable to connect with the private IP address without changing the hostname
  ansible_host: public_ip
  ec2_state: state.name

aws_access_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66623739643962613162613332643966666565623138663062333431346434643635626262303331
          3064376366393336373034353036613632633164646434300a636334393836323931306437626431
          32343037623532616364366664393765373238313466353237666662636661326530326662616230
          3532373837663137340a633236366532663034653565356632663835333635373439623261653833
          37643764313338663733636262333934386333316337366663366637663630643835
aws_secret_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37363632616531666436623239326364636338363066316262626637316632373238333065346133
          3665663932393666613735313530643531356435613563300a626537323566346361313930663437
          32373466623764373163313465303261663135633466353537316266393264373964616562386231
          3235346366376361360a383335323033636139333934373866353563353661333962636261316136
          33313339373732326638356666653537343462633033393262663463613338623234313665323330
          3265626561623963333531316335636436323931333231353465
